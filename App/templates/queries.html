{% extends "login-layout.html" %} {% block title %}My Queries page{% endblock %}
{% block page %}HMA{% endblock %} {{ super() }} {% block content %}
<style>
  h2 {
    font-family: "Space Mono", monospace;
  }
</style>
<main class="container">
  <h2>Claim History</h2>

  {% if user.queries or results %}
  <div class="mb-5">
    <p>
      Filter by:
      <v-chip><a href="/filter/{{1}}">Credible</a></v-chip>
      <v-chip><a href="/filter/{{0}}">Untrustworthy</a></v-chip>
    </p>
  </div>
  {% else %}
  <div></div>
  {% endif %} {% if not results %} {% for query in user.queries %}
  <v-card width="600" class="mx-auto text-left pb-3 my-5" variant="tonal">
    <template v-slot:title> {{ query.query_text }} </template>

    <template v-slot:subtitle> {{ query.verdict }} </template>

    <template v-slot:text> {{ query.response }} </template>

    <v-card-actions>
      <form action="/details" method="post">
        <input type="hidden" name="details" value="{{query.id}}" />
      <v-btn variant="tonal" class="mx-2" type="submit">
        More Details
      </v-btn>
    </form>
        <form action="/remove" method="post">
          <input type="hidden" name="removal" value="{{query.id}}" />
          <v-btn variant="tonal" type="submit">
        Remove Query
      </v-btn>
    </v-card-actions>
  </v-card>

  {% endfor %} {% else %} {% for result in results %}  
  <v-card width="600" class="mx-auto text-left pb-3 my-5" variant="tonal">
    <template v-slot:title> {{ result.query_text }} </template>

    <template v-slot:subtitle> {{ result.verdict }} </template>

    <template v-slot:text> {{ result.response }} </template>

    <v-card-actions>
      <form action="/details" method="post">
        <input type="hidden" name="details" value="{{result.id}}" />
      <v-btn variant="tonal" class="mx-2" type="submit">
        More Details
      </v-btn>
    </form>
        <form action="/remove" method="post">
          <input type="hidden" name="removal" value="{{result.id}}" />
          <v-btn variant="tonal" type="submit">
        Remove Query
      </v-btn>
    </v-card-actions>
  </v-card>

  {% endfor %} {% endif %}
</main>
{% endblock %}
